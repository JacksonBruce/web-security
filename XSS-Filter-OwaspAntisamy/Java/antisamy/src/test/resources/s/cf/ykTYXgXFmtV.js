/*1358840815,173213979*/

if (self.CavalryLogger) { CavalryLogger.start_js(["UNGn6"]); }

__d("ChannelConstants",[],function(a,b,c,d,e,f){var g='channel/',h={ON_SHUTDOWN:g+'shutdown',ON_INVALID_HISTORY:g+'invalid_history',ON_CONFIG:g+'config',ON_ENTER_STATE:g+'enter_state',ON_EXIT_STATE:g+'exit_state',OK:'ok',ERROR:'error',ERROR_MAX:'error_max',ERROR_MISSING:'error_missing',ERROR_MSG_TYPE:'error_msg_type',ERROR_SHUTDOWN:'error_shutdown',ERROR_STALE:'error_stale',SYS_OWNER:'sys_owner',SYS_NONOWNER:'sys_nonowner',SYS_ONLINE:'sys_online',SYS_OFFLINE:'sys_offline',SYS_TIMETRAVEL:'sys_timetravel',HINT_AUTH:'shutdown auth',HINT_CONN:'shutdown conn',HINT_DISABLED:'shutdown disabled',HINT_INVALID_STATE:'shutdown invalid state',HINT_MAINT:'shutdown maint',HINT_UNSUPPORTED:'shutdown unsupported',reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,getArbiterType:function(i){return g+'message:'+i;}};e.exports=h;});
__d("CookieCore",[],function(a,b,c,d,e,f){var g={set:function(h,i,j,k,l){document.cookie=h+"="+encodeURIComponent(i)+"; "+(j?"expires="+(new Date(Date.now()+j)).toGMTString()+"; ":"")+"path="+(k||'/')+"; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1')+(l?"; secure":"");},clear:function(h,i){i=i||'/';document.cookie=h+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; "+"path="+i+"; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');},get:function(h){var i=document.cookie.match('(?:^|;\\s*)'+h+'=(.*?)(?:;|$)');return (i?decodeURIComponent(i[1]):i);}};e.exports=g;});
__d("Cookie",["CookieCore","Env","copyProperties"],function(a,b,c,d,e,f){var g=b('CookieCore'),h=b('Env'),i=b('copyProperties');function j(l,m,n,o,p){if(h.no_cookies&&l!='tpa')return;g.set(l,m,n,o,p);}var k=i({},g);k.set=j;e.exports=k;});
__d("legacy:cookie",["Cookie"],function(a,b,c,d){var e=b('Cookie');a.getCookie=e.get;a.setCookie=e.set;a.clearCookie=e.clear;},3);
__d("URI",["copyProperties","goURI"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('goURI');function i(j){if(!(this instanceof i))return new i(j||window.location.href);this.parse(j||'');}g(i,{getRequestURI:function(j,k){j=j===undefined||j;var l=a.PageTransitions;if(j&&l&&l.isInitialized()){return l.getCurrentURI(!!k).getQualifiedURI();}else return new i(window.location.href);},getMostRecentURI:function(){var j=a.PageTransitions;if(j&&j.isInitialized()){return j.getMostRecentURI().getQualifiedURI();}else return new i(window.location.href);},getNextURI:function(){var j=a.PageTransitions;if(j&&j.isInitialized()){return j.getNextURI().getQualifiedURI();}else return new i(window.location.href);},expression:/(((\w+):\/\/)([^\/:]*)(:(\d+))?)?([^#?]*)(\?([^#]*))?(#(.*))?/,arrayQueryExpression:/^(\w+)((?:\[\w*\])+)=?(.*)/,explodeQuery:function(j){if(!j)return {};var k={};j=j.replace(/%5B/ig,'[').replace(/%5D/ig,']');j=j.split('&');var l=Object.prototype.hasOwnProperty;for(var m=0,n=j.length;m<n;m++){var o=j[m].match(i.arrayQueryExpression);if(!o){var p=j[m].split('=');k[i.decodeComponent(p[0])]=p[1]===undefined?null:i.decodeComponent(p[1]);}else{var q=o[2].split(/\]\[|\[|\]/).slice(0,-1),r=o[1],s=i.decodeComponent(o[3]||'');q[0]=r;var t=k;for(var u=0;u<q.length-1;u++)if(q[u]){if(!l.call(t,q[u])){var v=q[u+1]&&!q[u+1].match(/^\d+$/)?{}:[];t[q[u]]=v;if(t[q[u]]!==v)return k;}t=t[q[u]];}else{if(q[u+1]&&!q[u+1].match(/^\d+$/)){t.push({});}else t.push([]);t=t[t.length-1];}if(t instanceof Array&&q[q.length-1]===''){t.push(s);}else t[q[q.length-1]]=s;}}return k;},implodeQuery:function(j,k,l){k=k||'';if(l===undefined)l=true;var m=[];if(j===null||j===undefined){m.push(l?i.encodeComponent(k):k);}else if(j instanceof Array){for(var n=0;n<j.length;++n)try{if(j[n]!==undefined)m.push(i.implodeQuery(j[n],k?(k+'['+n+']'):n,l));}catch(o){}}else if(typeof(j)=='object'){if(('nodeName' in j)&&('nodeType' in j)){m.push('{node}');}else for(var p in j)try{if(j[p]!==undefined)m.push(i.implodeQuery(j[p],k?(k+'['+p+']'):p,l));}catch(o){}}else if(l){m.push(i.encodeComponent(k)+'='+i.encodeComponent(j));}else m.push(k+'='+j);return m.join('&');},encodeComponent:function(j){return encodeURIComponent(j).replace(/%5D/g,"]").replace(/%5B/g,"[");},decodeComponent:function(j){return decodeURIComponent(j.replace(/\+/g,' '));},INVALID_DOMAIN:'invalid.invalid',INVALID_URI:{protocol:'',domain:'',port:'',path:'',query_s:'',fragment:''},sanitizeDomain:function(j){var k=new RegExp('[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f'+'\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF'+'\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]');if(k.test(j)){return i.INVALID_DOMAIN;}else return j;}});g(i.prototype,{parse:function(j){var k=j.toString().match(i.expression);g(this,{protocol:k[3]||'',domain:i.sanitizeDomain(k[4]||''),port:k[6]||'',path:k[7]||'',query_s:k[9]||'',fragment:k[11]||''});if(!this.domain&&this.path.indexOf('\\')!==-1)g(this,i.INVALID_URI);var l=new RegExp('^(?:[^/]*:|'+'[\\x00-\\x1f]*/[\\x00-\\x1f]*/)');if(!this.protocol&&l.test(j.toString()))g(this,i.INVALID_URI);return this;},setProtocol:function(j){this.protocol=j;return this;},getProtocol:function(){return this.protocol;},setQueryData:function(j){this.query_s=i.implodeQuery(j);return this;},addQueryData:function(j){return this.setQueryData(g(this.getQueryData(),j));},removeQueryData:function(j){if(!Array.isArray(j))j=[j];var k=this.getQueryData();for(var l=0,m=j.length;l<m;++l)delete k[j[l]];return this.setQueryData(k);},getQueryData:function(){return i.explodeQuery(this.query_s);},setFragment:function(j){this.fragment=j;return this;},getFragment:function(){return this.fragment;},setDomain:function(j){this.domain=i.sanitizeDomain(j);return this;},getDomain:function(){return this.domain;},setPort:function(j){this.port=j;return this;},getPort:function(){return this.port;},setPath:function(j){this.path=j;return this;},getPath:function(){return this.path.replace(/^\/+/,'/');},isEmpty:function(){return !(this.path||this.protocol||this.domain||this.port||this.query_s||this.fragment);},toString:function(){var j='';this.protocol&&(j+=this.protocol+'://');this.domain&&(j+=this.domain);this.port&&(j+=':'+this.port);if(this.domain&&!this.path)j+='/';this.path&&(j+=this.path);this.query_s&&(j+='?'+this.query_s);this.fragment&&(j+='#'+this.fragment);return j;},valueOf:function(){return this.toString();},isFacebookURI:function(){if(!i._facebookURIRegex)i._facebookURIRegex=new RegExp('(^|\\.)facebook\\.com([^.]*)$','i');return (!this.isEmpty()&&(!this.domain||i._facebookURIRegex.test(this.domain)));},isQuicklingEnabled:function(){var j=a.Quickling;return j&&j.isActive()&&j.isPageActive(this);},getRegisteredDomain:function(){if(!this.domain)return '';if(!this.isFacebookURI())return null;var j=this.domain.split('.'),k=j.indexOf('facebook');return j.slice(k).join('.');},getUnqualifiedURI:function(){return new i(this).setProtocol(null).setDomain(null).setPort(null);},getQualifiedURI:function(){return new i(this)._qualify();},_qualify:function(){if(!this.getDomain()){var j=i();this.setProtocol(j.getProtocol()).setDomain(j.getDomain()).setPort(j.getPort());}return this;},isSameOrigin:function(j){var k=j||window.location.href;if(!(k instanceof i))k=new i(k.toString());if(this.isEmpty()||k.isEmpty())return false;if(this.getDomain()===i.INVALID_DOMAIN)return false;if(this.getProtocol()&&this.getProtocol()!=k.getProtocol())return false;if(this.getDomain()&&this.getDomain()!=k.getDomain())return false;if(this.getPort()&&this.getPort()!=k.getPort())return false;return true;},go:function(j){h(this,j);},setSubdomain:function(j){var k=this._qualify().getDomain().split('.');if(k.length<=2){k.unshift(j);}else k[0]=j;return this.setDomain(k.join('.'));},getSubdomain:function(){if(!this.getDomain())return '';var j=this.getDomain().split('.');if(j.length<=2){return '';}else return j[0];},setSecure:function(j){return this.setProtocol(j?'https':'http');},isSecure:function(){return this.getProtocol()=='https';}});e.exports=i;});
__d("legacy:uri",["URI"],function(a,b,c,d){a.URI=b('URI');},3);
__d("AsyncSignal",["Env","ErrorUtils","QueryString","URI","XHR","copyProperties"],function(a,b,c,d,e,f){var g=b('Env'),h=b('ErrorUtils'),i=b('QueryString'),j=b('URI'),k=b('XHR'),l=b('copyProperties');function m(n,o){this.data=o||{};if(g.tracking_domain&&n.charAt(0)=='/')n=g.tracking_domain+n;this.uri=n;}m.prototype.setHandler=function(n){this.handler=n;return this;};m.prototype.send=function(){var n=this.handler,o=this.data,p=new Image();if(n)p.onload=p.onerror=function(){h.applyWithGuard(n,null,[p.height==1]);};o.asyncSignal=(Math.random()*10000|0)+1;var q=new j(this.uri).isFacebookURI();l(o,k.getAsyncParams(q?'POST':'GET'));p.src=i.appendToUrl(this.uri,o);return this;};e.exports=m;});
__d("legacy:async-signal",["AsyncSignal"],function(a,b,c,d){a.AsyncSignal=b('AsyncSignal');},3);
function detect_broken_proxy_cache(a,b){var c=getCookie(b);if((c!=a)&&(c!=null)&&(a!='0')){var d={c:'si_detect_broken_proxy_cache',m:b+' '+a+' '+c},e=new URI('/common/scribe_endpoint.php').getQualifiedURI().toString();new AsyncSignal(e,d).send();}}
function link_rel_preload(){var a=/async(?:-post)?|dialog(?:-pipe|-post)?|theater|toggle/;document.documentElement.onmousedown=function(b){b=b||window.event;var c=b.target||b.srcElement,d=Parent.byTag(c,'A');if(!d)return;var e=d.getAttribute('ajaxify'),f=d.href,g=e||f;if(e&&f&&!(/#$/).test(f)){var h=b.which&&b.which!=1,i=b.altKey||b.ctrlKey||b.metaKey||b.shiftKey;if(h||i)return;}var j=d.rel&&d.rel.match(a);j=j&&j[0];switch(j){case 'dialog':case 'dialog-post':Bootloader.loadComponents('dialog');break;case 'dialog-pipe':Bootloader.loadComponents(['ajaxpipe','dialog']);break;case 'async':case 'async-post':Bootloader.loadComponents('async');break;case 'theater':Bootloader.loadComponents('PhotoSnowlift',function(){PhotoSnowlift.preload(g,d);});break;case 'toggle':Bootloader.loadComponents('Toggler');break;}return;};}
__d("DataStore",[],function(a,b,c,d,e,f){var g={},h=1;function i(l){if(typeof l=='string'){return 'str_'+l;}else return 'elem_'+(l.__FB_TOKEN||(l.__FB_TOKEN=[h++]))[0];}function j(l){var m=i(l);return g[m]||(g[m]={});}var k={set:function(l,m,n){if(!l)throw new TypeError('DataStore.set: namespace is required, got '+(typeof l));var o=j(l);o[m]=n;return l;},get:function(l,m,n){if(!l)throw new TypeError('DataStore.get: namespace is required, got '+(typeof l));var o=j(l),p=o[m];if(typeof p==='undefined'&&l.getAttribute)if(l.hasAttribute&&!l.hasAttribute('data-'+m)){p=undefined;}else{var q=l.getAttribute('data-'+m);p=(null===q)?undefined:q;}if((n!==undefined)&&(p===undefined))p=o[m]=n;return p;},remove:function(l,m){if(!l)throw new TypeError('DataStore.remove: namespace is required, got '+(typeof l));var n=j(l),o=n[m];delete n[m];return o;},purge:function(l){delete g[i(l)];}};e.exports=k;});
__d("createObjectFrom",["hasArrayNature"],function(a,b,c,d,e,f){var g=b('hasArrayNature');function h(i,j){var k={},l=g(j);if(typeof j=='undefined')j=true;for(var m=i.length;m--;)k[i[m]]=l?j[m]:j;return k;}e.exports=h;});
__d("DOMQuery",["CSS","UserAgent","createArrayFrom","createObjectFrom","ge"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('UserAgent'),i=b('createArrayFrom'),j=b('createObjectFrom'),k=b('ge'),l=null;function m(o,p){return o.hasAttribute?o.hasAttribute(p):o.getAttribute(p)!==null;}var n={find:function(o,p){var q=n.scry(o,p);return q[0];},scry:function(o,p){if(!o||!o.getElementsByTagName)return [];var q=p.split(' '),r=[o];for(var s=0;s<q.length;s++){if(r.length===0)break;if(q[s]==='')continue;var t=q[s],u=q[s],v=[],w=false;if(t.charAt(0)=='^')if(s===0){w=true;t=t.slice(1);}else return [];t=t.replace(/\[(?:[^=\]]*=(?:"[^"]*"|'[^']*'))?|[.#]/g,' $&');var x=t.split(' '),y=x[0]||'*',z=y=='*',aa=x[1]&&x[1].charAt(0)=='#';if(aa){var ba=k(x[1].slice(1),o,y);if(ba&&(z||ba.tagName.toLowerCase()==y))for(var ca=0;ca<r.length;ca++)if(w&&n.contains(ba,r[ca])){v=[ba];break;}else if(document==r[ca]||n.contains(r[ca],ba)){v=[ba];break;}}else{var da=[],ea=r.length,fa,ga=!w&&u.indexOf('[')<0&&document.querySelectorAll;for(var ha=0;ha<ea;ha++){if(w){fa=[];var ia=r[ha].parentNode;while(n.isElementNode(ia)){if(z||ia.tagName.toLowerCase()==y)fa.push(ia);ia=ia.parentNode;}}else if(ga){fa=r[ha].querySelectorAll(u);}else fa=r[ha].getElementsByTagName(y);var ja=fa.length;for(var ka=0;ka<ja;ka++)da.push(fa[ka]);}if(!ga)for(var la=1;la<x.length;la++){var ma=x[la],na=ma.charAt(0)=='.',oa=ma.substring(1);for(ha=0;ha<da.length;ha++){var pa=da[ha];if(!pa)continue;if(na){if(!g.hasClass(pa,oa))delete da[ha];continue;}else{var qa=ma.slice(1,ma.length-1);if(qa.indexOf('=')==-1){if(!m(pa,qa)){delete da[ha];continue;}}else{var ra=qa.split('='),sa=ra[0],ta=ra[1];ta=ta.slice(1,ta.length-1);if(pa.getAttribute(sa)!=ta){delete da[ha];continue;}}}}}for(ha=0;ha<da.length;ha++)if(da[ha]){v.push(da[ha]);if(w)break;}}r=v;}return r;},getText:function(o){if(n.isTextNode(o)){return o.data;}else if(n.isElementNode(o)){if(l===null){var p=document.createElement('div');l=p.textContent!=null?'textContent':'innerText';}return o[l];}else return '';},getSelection:function(){var o=window.getSelection,p=document.selection;if(o){return o()+'';}else if(p)return p.createRange().text;return null;},contains:function(o,p){o=k(o);p=k(p);if(!o||!p){return false;}else if(o===p){return true;}else if(n.isTextNode(o)){return false;}else if(n.isTextNode(p)){return n.contains(o,p.parentNode);}else if(o.contains){return o.contains(p);}else if(o.compareDocumentPosition){return !!(o.compareDocumentPosition(p)&16);}else return false;},getRootElement:function(){var o=null;if(window.Quickling&&Quickling.isActive())o=k('content');return o||document.body;},isNode:function(o){return !!(o&&(typeof Node=='object'?o instanceof Node:typeof o=="object"&&typeof o.nodeType=='number'&&typeof o.nodeName=='string'));},isNodeOfType:function(o,p){var q=i(p).join('|').toUpperCase().split('|'),r=j(q);return n.isNode(o)&&o.nodeName in r;},isElementNode:function(o){return n.isNode(o)&&o.nodeType==1;},isTextNode:function(o){return n.isNode(o)&&o.nodeType==3;},getDocumentScrollElement:function(o){o=o||document;var p=h.chrome()||h.webkit();return !p&&o.compatMode==='CSS1Compat'?o.documentElement:o.body;}};e.exports=n;});
__d("DOMEvent",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this.event=i||window.event;this.target=this.event.target||this.event.srcElement;}g(h.prototype,{preventDefault:function(){var i=this.event;i.preventDefault?i.preventDefault():i.returnValue=false;return this;},stopPropagation:function(){var i=this.event;i.stopPropagation?i.stopPropagation():i.cancelBubble=true;return this;},kill:function(){this.stopPropagation().preventDefault();return this;}});e.exports=h;});
__d("getObjectValues",["hasArrayNature"],function(a,b,c,d,e,f){var g=b('hasArrayNature');function h(i){var j=[];for(var k in i)j.push(i[k]);return j;}e.exports=h;});
__d("Event",["event-form-bubbling","Arbiter","DataStore","DOMQuery","DOMEvent","ErrorUtils","Parent","UserAgent","$","copyProperties","getObjectValues"],function(a,b,c,d,e,f){b('event-form-bubbling');var g=b('Arbiter'),h=b('DataStore'),i=b('DOMQuery'),j=b('DOMEvent'),k=b('ErrorUtils'),l=b('Parent'),m=b('UserAgent'),n=b('$'),o=b('copyProperties'),p=b('getObjectValues'),q=a.Event;q.DATASTORE_KEY='Event.listeners';if(!q.prototype)q.prototype={};function r(ca){if(ca.type==='click'||ca.type==='mouseover'||ca.type==='keydown')g.inform('Event/stop',{event:ca});}function s(ca,da,ea){this.target=ca;this.type=da;this.data=ea;}o(s.prototype,{getData:function(){this.data=this.data||{};return this.data;},stop:function(){var ca=new j(this).stopPropagation();r(ca.event);return this;},prevent:function(){new j(this).preventDefault();return this;},kill:function(){var ca=new j(this).kill();r(ca.event);return false;},getTarget:function(){return new j(this).target||null;}});function t(ca){if(ca instanceof s)return ca;if(!ca)if(!window.addEventListener&&document.createEventObject){ca=window.event?document.createEventObject(window.event):{};}else ca={};if(!ca._inherits_from_prototype)for(var da in q.prototype)try{ca[da]=q.prototype[da];}catch(ea){}return ca;}o(q.prototype,{_inherits_from_prototype:true,getRelatedTarget:function(){var ca=this.relatedTarget||(this.fromElement===this.srcElement?this.toElement:this.fromElement);return ca?n(ca):null;},getModifiers:function(){var ca={control:!!this.ctrlKey,shift:!!this.shiftKey,alt:!!this.altKey,meta:!!this.metaKey};ca.access=m.osx()?ca.control:ca.alt;ca.any=ca.control||ca.shift||ca.alt||ca.meta;return ca;},isRightClick:function(){if(this.which)return this.which===3;return this.button&&this.button===2;},isMiddleClick:function(){if(this.which)return this.which===2;return this.button&&this.button===4;},isDefaultRequested:function(){return this.getModifiers().any||this.isMiddleClick()||this.isRightClick();}});o(q.prototype,s.prototype);o(q,{listen:function(ca,da,ea,fa){if(typeof ca=='string')ca=n(ca);if(typeof fa=='undefined')fa=q.Priority.NORMAL;if(typeof da=='object'){var ga={};for(var ha in da)ga[ha]=q.listen(ca,ha,da[ha],fa);return ga;}if(da.match(/^on/i))throw new TypeError("Bad event name `"+da+"': use `click', not `onclick'.");if(ca.nodeName=='LABEL'&&da=='click'){var ia=ca.getElementsByTagName('input');ca=ia.length==1?ia[0]:ca;}else if(ca===window&&da==='scroll'){var ja=i.getDocumentScrollElement();if(ja!==document.documentElement&&ja!==document.body)ca=ja;}var ka=h.get(ca,v,{});if(x[da]){var la=x[da];da=la.base;if(la.wrap)ea=la.wrap(ea);}z(ca,da);var ma=ka[da];if(!(fa in ma))ma[fa]=[];var na=ma[fa].length,oa=new ba(ea,ma[fa],na);ma[fa].push(oa);return oa;},stop:function(ca){var da=new j(ca).stopPropagation();r(da.event);return ca;},prevent:function(ca){new j(ca).preventDefault();return ca;},kill:function(ca){var da=new j(ca).kill();r(da.event);return false;},getKeyCode:function(event){event=new j(event).event;if(!event)return false;switch(event.keyCode){case 63232:return 38;case 63233:return 40;case 63234:return 37;case 63235:return 39;case 63272:case 63273:case 63275:return null;case 63276:return 33;case 63277:return 34;}if(event.shiftKey)switch(event.keyCode){case 33:case 34:case 37:case 38:case 39:case 40:return null;}return event.keyCode;},getPriorities:function(){if(!u){var ca=p(q.Priority);ca.sort(function(da,ea){return da-ea;});u=ca;}return u;},fire:function(ca,da,ea){var fa=new s(ca,da,ea),ga;do{var ha=q.__getHandler(ca,da);if(ha)ga=ha(fa);ca=ca.parentNode;}while(ca&&ga!==false&&!fa.cancelBubble);return ga!==false;},__fire:function(ca,da,event){var ea=q.__getHandler(ca,da);if(ea)return ea(t(event));},__getHandler:function(ca,da){return h.get(ca,q.DATASTORE_KEY+da);},getPosition:function(ca){ca=new j(ca).event;var da=i.getDocumentScrollElement(),ea=ca.clientX+da.scrollLeft,fa=ca.clientY+da.scrollTop;return {x:ea,y:fa};}});var u=null,v=q.DATASTORE_KEY,w=function(ca){return function(da){if(!i.contains(this,da.getRelatedTarget()))return ca.call(this,da);};},x;if(!window.navigator.msPointerEnabled){x={mouseenter:{base:'mouseover',wrap:w},mouseleave:{base:'mouseout',wrap:w}};}else x={mousedown:{base:'MSPointerDown'},mousemove:{base:'MSPointerMove'},mouseup:{base:'MSPointerUp'},mouseover:{base:'MSPointerOver'},mouseout:{base:'MSPointerOut'},mouseenter:{base:'MSPointerOver',wrap:w},mouseleave:{base:'MSPointerOut',wrap:w}};if(m.firefox()){var y=function(ca,event){event=t(event);var da=event.getTarget();while(da){q.__fire(da,ca,event);da=da.parentNode;}};document.documentElement.addEventListener('focus',y.curry('focusin'),true);document.documentElement.addEventListener('blur',y.curry('focusout'),true);}var z=function(ca,da){var ea='on'+da,fa=aa.bind(ca,da),ga=h.get(ca,v);if(da in ga)return;ga[da]={};if(ca.addEventListener){ca.addEventListener(da,fa,false);}else if(ca.attachEvent)ca.attachEvent(ea,fa);h.set(ca,v+da,fa);if(ca[ea]){var ha=ca===document.documentElement?q.Priority._BUBBLE:q.Priority.TRADITIONAL,ia=ca[ea];ca[ea]=null;q.listen(ca,da,ia,ha);}if(ca.nodeName==='FORM'&&da==='submit')q.listen(ca,da,q.__bubbleSubmit.curry(ca),q.Priority._BUBBLE);},aa=k.guard(function(ca,event){event=t(event);if(!h.get(this,v))throw new Error("Bad listenHandler context.");var da=h.get(this,v)[ca];if(!da)throw new Error("No registered handlers for `"+ca+"'.");if(ca=='click'){var ea=l.byTag(event.getTarget(),'a');if(window.userAction){var fa=window.userAction('evt_ext',ea,event,{mode:'DEDUP'}).uai_fallback('click');if(window.ArbiterMonitor)window.ArbiterMonitor.initUA(fa,[ea]);}if(window.clickRefAction)window.clickRefAction('click',ea,event);}var ga=q.getPriorities();for(var ha=0;ha<ga.length;ha++){var ia=ga[ha];if(ia in da){var ja=da[ia];for(var ka=0;ka<ja.length;ka++){if(!ja[ka])continue;var la=ja[ka].fire(this,event);if(la===false){return event.kill();}else if(event.cancelBubble)event.stop();}}}return event.returnValue;});q.Priority={URGENT:-20,TRADITIONAL:-10,NORMAL:0,_BUBBLE:1000};function ba(ca,da,ea){this._handler=ca;this._container=da;this._index=ea;}o(ba.prototype,{remove:function(){delete this._handler;delete this._container[this._index];},fire:function(ca,event){return k.applyWithGuard(this._handler,ca,[event],function(da){da.event_type=event.type;da.dom_element=ca.name||ca.id;da.category='eventhandler';});}});a.$E=q.$E=t;e.exports=q;});
__d("AsyncResponse",["Bootloader","Env","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('Env'),i=b('copyProperties'),j=b('tx');function k(l,m){i(this,{error:0,errorSummary:null,errorDescription:null,onload:null,replay:false,payload:m||null,request:l||null,silentError:false,transientError:false,is_last:true});return this;}i(k,{defaultErrorHandler:function(l){try{if(!l.silentError){k.verboseErrorHandler(l);}else l.logErrorByGroup('silent',10);}catch(m){alert(l);}},verboseErrorHandler:function(l){try{var n=l.getErrorSummary(),o=l.getErrorDescription();l.logErrorByGroup('popup',10);if(l.silentError&&o=='')o="Something went wrong. We're working on getting this fixed as soon as we can. You may be able to try again.";g.loadModules(['Dialog'],function(p){new p().setTitle(n).setBody(o).setButtons([p.OK]).setModal(true).setCausalElement(this.relativeTo).show();});}catch(m){alert(l);}}});i(k.prototype,{getRequest:function(){return this.request;},getPayload:function(){return this.payload;},getError:function(){return this.error;},getErrorSummary:function(){return this.errorSummary;},setErrorSummary:function(l){l=(l===undefined?null:l);this.errorSummary=l;return this;},getErrorDescription:function(){return this.errorDescription;},getErrorIsWarning:function(){return this.errorIsWarning;},isTransient:function(){return this.transientError;},logError:function(l,m){if(window.send_error_signal){var n={err_code:this.error,vip:(h.vip||'-')};if(m){n.duration=m.duration;n.xfb_ip=m.xfb_ip;}var o=this.request.getURI();n.path=o||'-';n.aid=this.request.userActionID;if(o&&o.indexOf('scribe_endpoint.php')!=-1)l='async_error_double';send_error_signal(l,JSON.stringify(n));}},logErrorByGroup:function(l,m){if(Math.floor(Math.random()*m)==0)if(this.error==1357010||this.error<15000){this.logError('async_error_oops_'+l);}else this.logError('async_error_logic_'+l);}});e.exports=k;});
__d("HTTPErrors",["emptyFunction"],function(a,b,c,d,e,f){var g=b('emptyFunction'),h={get:g,getAll:g};e.exports=h;});
__d("bind",[],function(a,b,c,d,e,f){function g(h,i){var j=Array.prototype.slice.call(arguments,2);if(typeof i!='string')return Function.prototype.bind.apply(i,[h].concat(j));function k(){var l=j.concat(Array.prototype.slice.call(arguments));if(h[i])return h[i].apply(h,l);}k.toString=function(){return 'bound lazily: '+h[i];};return k;}e.exports=g;});
__d("evalGlobal",[],function(a,b,c,d,e,f){function g(h){if(typeof h!='string')throw new TypeError('JS sent to evalGlobal is not a string. Only strings are permitted.');if(!h)return;var i=document.createElement('script');try{i.appendChild(document.createTextNode(h));}catch(j){i.text=h;}var k=document.getElementsByTagName('head')[0]||document.documentElement;k.appendChild(i);k.removeChild(i);}e.exports=g;});
__d("AsyncRequest",["Event","Arbiter","AsyncResponse","Bootloader","CSS","Env","HTTPErrors","JSCC","Parent","Run","ServerJS","URI","UserAgent","XHR","bind","copyProperties","emptyFunction","evalGlobal","ge","goURI","isEmpty","tx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('AsyncResponse'),j=b('Bootloader'),k=b('CSS'),l=b('Env'),m=b('HTTPErrors'),n=b('JSCC'),o=b('Parent'),p=b('Run'),q=b('ServerJS'),r=b('URI'),s=b('UserAgent'),t=b('XHR'),u=b('bind'),v=b('copyProperties'),w=b('emptyFunction'),x=b('evalGlobal'),y=b('ge'),z=b('goURI'),aa=b('isEmpty'),ba=b('tx');function ca(){try{return !window.loaded;}catch(la){return true;}}function da(la){return ('upload' in la)&&('onprogress' in la.upload);}function ea(la){return 'withCredentials' in la;}function fa(la){return la.status in {0:1,12029:1,12030:1,12031:1,12152:1};}function ga(la){var ma=!la||typeof(la)==='function';return ma;}var ha=2,ia=ha;h.subscribe('page_transition',function(la,ma){ia=ma.id;});function ja(la){v(this,{transport:null,method:'POST',uri:'',timeout:null,timer:null,initialHandler:w,handler:null,uploadProgressHandler:null,errorHandler:null,transportErrorHandler:null,timeoutHandler:null,interceptHandler:w,finallyHandler:w,abortHandler:w,serverDialogCancelHandler:null,relativeTo:null,statusElement:null,statusClass:'',data:{},file:null,context:{},readOnly:false,writeRequiredParams:[],remainingRetries:0,userActionID:'-'});this.option={asynchronous:true,suppressErrorHandlerWarning:false,suppressEvaluation:false,suppressErrorAlerts:false,retries:0,jsonp:false,bundle:false,useIframeTransport:false,handleErrorAfterUnload:false};this.errorHandler=i.defaultErrorHandler;this.transportErrorHandler=u(this,'errorHandler');if(la!==undefined)this.setURI(la);}v(ja,{bootstrap:function(la,ma,na){var oa='GET',pa=true,qa={};if(na||ma&&(ma.rel=='async-post'||ma.getAttribute&&ma.getAttribute('forcemethod')=='post')){oa='POST';pa=false;if(la){la=r(la);qa=la.getQueryData();la.setQueryData({});}}var ra=o.byClass(ma,'stat_elem')||ma;if(ra&&k.hasClass(ra,'async_saving'))return false;var sa=new ja(la).setReadOnly(pa).setMethod(oa).setData(qa).setNectarModuleDataSafe(ma).setRelativeTo(ma);if(ma){sa.setHandler(function(ua){g.fire(ma,'success',{response:ua});});sa.setErrorHandler(function(ua){if(g.fire(ma,'error',{response:ua})!==false)i.defaultErrorHandler(ua);});}if(ra){sa.setStatusElement(ra);var ta=ra.getAttribute('data-status-class');ta&&sa.setStatusClass(ta);}if(ma)g.fire(ma,'AsyncRequest/send',{request:sa});sa.send();return false;},post:function(la,ma){new ja(la).setReadOnly(false).setMethod('POST').setData(ma).send();return false;},getLastID:function(){return ha;},suppressOnloadToken:{},_inflight:[],_inflightCount:0,_inflightAdd:w,_inflightPurge:w,getInflightCount:function(){return this._inflightCount;},_inflightEnable:function(){if(s.ie()){v(ja,{_inflightAdd:function(la){this._inflight.push(la);},_inflightPurge:function(){ja._inflight=ja._inflight.filter(function(la){return la.transport&&la.transport.readyState<4;});}});p.onUnload(function(){ja._inflight.forEach(function(la){if(la.transport&&la.transport.readyState<4){la.transport.abort();delete la.transport;}});});}}});v(ja.prototype,{_dispatchResponse:function(la){try{this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(1010);return;}if(this.initialHandler(la)===false)return;clearTimeout(this.timer);if(la.jscc_map){var na=(eval)(la.jscc_map);n.init(na);}var oa;if(this.handler)try{oa=this._shouldSuppressJS(this.handler(la));}catch(pa){la.is_last&&this.finallyHandler(la);throw pa;}if(!oa)this._handleJSResponse(la);la.is_last&&this.finallyHandler(la);}catch(ma){}},_shouldSuppressJS:function(la){return la===ja.suppressOnloadToken;},_handleJSResponse:function(la){var ma=this.getRelativeTo(),na=la.domops,oa=la.jsmods,pa=new q().setRelativeTo(ma),qa;if(oa&&oa.require){qa=oa.require;delete oa.require;}if(oa)pa.handle(oa);var ra=function(sa){if(na&&sa)sa.invoke(na,ma);if(qa)pa.handle({require:qa});this._handleJSRegisters(la,'onload');if(this.lid)h.inform('tti_ajax',{s:this.lid,d:[this._sendTimeStamp||0,(this._sendTimeStamp&&this._responseTime)?(this._responseTime-this._sendTimeStamp):0]},h.BEHAVIOR_EVENT);this._handleJSRegisters(la,'onafterload');pa.cleanup();}.bind(this);if(na){j.loadModules(['AsyncDOM'],ra);}else ra(null);},_handleJSRegisters:function(la,ma){var na=la[ma];if(!na)return;for(var oa=0;oa<na.length;oa++)try{(new Function(na[oa])).apply(this);}catch(pa){}},invokeResponseHandler:function(la){if(typeof(la.redirect)!=='undefined'){(function(){this.setURI(la.redirect).send();}).bind(this).defer();return;}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler)return;if(typeof(la.asyncResponse)!=='undefined'){if(!this._isRelevant()){this._invokeErrorHandler(1010);return;}var ma=la.asyncResponse;if(ma.inlinejs)x(ma.inlinejs);if(ma.lid){this._responseTime=Date.now();if(a.CavalryLogger)this.cavalry=a.CavalryLogger.getInstance(ma.lid);this.lid=ma.lid;}j.setResourceMap(ma.resource_map);if(ma.bootloadable)j.enableBootload(ma.bootloadable);var na;if(ma.getError()&&!ma.getErrorIsWarning()){var oa=this.errorHandler.bind(this);na=this._dispatchErrorResponse.bind(this,ma,oa);}else na=this._dispatchResponse.bind(this,ma);na=na.defer.bind(na);var pa=false;if(this.preBootloadHandler)pa=this.preBootloadHandler(ma);ma.css=ma.css||[];ma.js=ma.js||[];j.loadResources(ma.css.concat(ma.js),na,pa,this.getURI());}else if(typeof(la.transportError)!=='undefined'){if(this._xFbServer){this._invokeErrorHandler(1008);}else this._invokeErrorHandler(1012);}else this._invokeErrorHandler(1007);},_invokeErrorHandler:function(la){if(ca()&&!this.getOption('handleErrorAfterUnload'))return;var ma;if(this.responseText===''){ma=1002;}else if(this._requestAborted){ma=1011;}else{try{ma=la||this.transport.status||1004;}catch(na){ma=1005;}if(false===navigator.onLine)ma=1006;}if(!this.transportErrorHandler)return;var oa=this.transportErrorHandler.bind(this),pa,qa,ra=true;if(ma===1006){qa="No Network Connection";pa="Your browser appears to be offline. Please check your internet connection and try again.";}else if(ma>=300&&ma<=399){qa="Redirection";pa="Your access to Facebook was redirected or blocked by a third party at this time, please contact your ISP or reload. ";var sa=this.transport.getResponseHeader("Location");if(sa)z(sa,true);ra=true;}else{qa="Oops";pa="Something went wrong. We're working on getting this fixed as soon as we can. You may be able to try again.";}!this.getOption('suppressErrorAlerts');var ta=new i(this);v(ta,{error:ma,errorSummary:qa,errorDescription:pa,silentError:ra});this._dispatchErrorResponse(ta,oa);},_dispatchErrorResponse:function(la,ma){var na=la.getError();try{this.clearStatusIndicator();var pa=this._sendTimeStamp&&{duration:Date.now()-this._sendTimeStamp,xfb_ip:this._xFbServer||'-'};la.logError('async_error',pa);if(!this._isRelevant()||na===1010){this.abort();return;}if(na==1357008||na==1357007||na==1442002||na==1357001){var qa=na==1357008||na==1357007;this.interceptHandler(la);this._displayServerDialog(la,qa);}else if(this.initialHandler(la)!==false){clearTimeout(this.timer);try{ma(la);}catch(ra){this.finallyHandler(la);throw ra;}this.finallyHandler(la);}}catch(oa){}},_displayServerDialog:function(la,ma){var na=la.getPayload();if(na.__dialog!==undefined){this._displayServerLegacyDialog(la,ma);return;}var oa=na.__dialogx;new q().handle(oa);j.loadModules(['ConfirmationDialog'],function(pa){pa.setupConfirmation(la,this);}.bind(this));},_displayServerLegacyDialog:function(la,ma){var na=la.getPayload().__dialog;j.loadModules(['Dialog'],function(oa){var pa=new oa(na);if(ma)pa.setHandler(this._displayConfirmationHandler.bind(this,pa));pa.setCancelHandler(function(){var qa=this.getServerDialogCancelHandler();try{qa&&qa(la);}catch(ra){throw ra;}finally{this.finallyHandler(la);}}.bind(this)).setCausalElement(this.relativeTo).show();}.bind(this));},_displayConfirmationHandler:function(la){this.data.confirmed=1;v(this.data,la.getFormData());this.send();},setJSONPTransport:function(la){la.subscribe('response',this._handleJSONPResponse.bind(this));la.subscribe('abort',this._handleJSONPAbort.bind(this));this.transport=la;},_handleJSONPResponse:function(la,ma){this.is_first=(this.is_first===undefined);var na=this._interpretResponse(ma);na.asyncResponse.is_first=this.is_first;na.asyncResponse.is_last=this.transport.hasFinished();this.invokeResponseHandler(na);if(this.transport.hasFinished())delete this.transport;},_handleJSONPAbort:function(){this._invokeErrorHandler();delete this.transport;},_handleXHRResponse:function(la){var ma;if(this.getOption('suppressEvaluation')){ma={asyncResponse:new i(this,la)};}else{var na=la.responseText,oa=null;try{var qa=this._unshieldResponseText(na);try{var ra=(eval)('('+qa+')');ma=this._interpretResponse(ra);}catch(pa){oa='excep';ma={transportError:'eval() failed on async to '+this.getURI()};}}catch(pa){oa='empty';ma={transportError:pa.message};}if(oa)a.send_error_signal&&a.send_error_signal('async_xport_resp',[(this._xFbServer?'1008_':'1012_')+oa,this._xFbServer||'-',this.getURI(),na.length,na.substr(0,1600)].join(':'));}this.invokeResponseHandler(ma);},_unshieldResponseText:function(la){var ma="for (;;);",na=ma.length;if(la.length<=na)throw new Error('Response too short on async to '+this.getURI());var oa=0;while(la.charAt(oa)==" "||la.charAt(oa)=="\n")oa++;oa&&la.substring(oa,oa+na)==ma;return la.substring(oa+na);},_interpretResponse:function(la){if(la.redirect)return {redirect:la.redirect};var ma=new i(this);if(la.__ar!=1){ma.payload=la;}else v(ma,la);return {asyncResponse:ma};},_onStateChange:function(){try{if(this.transport.readyState==4){ja._inflightCount--;ja._inflightPurge();try{if(typeof(this.transport.getResponseHeader)!=='undefined'&&this.transport.getResponseHeader('X-FB-Debug'))this._xFbServer=this.transport.getResponseHeader('X-FB-Debug');}catch(ma){}if(this.transport.status>=200&&this.transport.status<300){ja.lastSuccessTime=Date.now();this._handleXHRResponse(this.transport);}else if(s.webkit()&&(typeof(this.transport.status)=='undefined')){this._invokeErrorHandler(1002);}else if(l.retry_ajax_on_network_error&&fa(this.transport)&&this.remainingRetries>0){this.remainingRetries--;delete this.transport;this.send(true);return;}else this._invokeErrorHandler();if(this.getOption('asynchronous')!==false)delete this.transport;}}catch(la){if(ca())return;delete this.transport;if(this.remainingRetries>0){this.remainingRetries--;this.send(true);}else{!this.getOption('suppressErrorAlerts');a.send_error_signal&&a.send_error_signal('async_xport_resp',[1007,this._xFbServer||'-',this.getURI(),la.message].join(':'));this._invokeErrorHandler(1007);}}},_isMultiplexable:function(){if(this.getOption('jsonp')||this.getOption('useIframeTransport'))return false;if(!this.uri.isFacebookURI())return false;if(!this.getOption('asynchronous'))return false;return true;},handleResponse:function(la){var ma=this._interpretResponse(la);this.invokeResponseHandler(ma);},setMethod:function(la){this.method=la.toString().toUpperCase();return this;},getMethod:function(){return this.method;},setData:function(la){this.data=la;return this;},_setDataHash:function(){if(this.method!='POST'||this.data.phstamp)return;var la=r.implodeQuery(this.data).length,ma='';for(var na=0;na<this.data.fb_dtsg.length;na++)ma+=this.data.fb_dtsg.charCodeAt(na);this.data.phstamp='1'+ma+la;},setRawData:function(la){this.rawData=la;return this;},getData:function(){return this.data;},setContextData:function(la,ma,na){na=na===undefined?true:na;if(na)this.context['_log_'+la]=ma;return this;},_setUserActionID:function(){var la=a.ArbiterMonitor&&a.ArbiterMonitor.getUE()||'-';this.userActionID=(a.EagleEye&&a.EagleEye.getSessionID()||'-')+'/'+la;},setURI:function(la){var ma=r(la);if(this.getOption('useIframeTransport')&&!ma.isFacebookURI())return this;if(!this._allowCrossOrigin&&!this.getOption('jsonp')&&!this.getOption('useIframeTransport')&&!ma.isSameOrigin())return this;this._setUserActionID();if(!la||ma.isEmpty()){if(a.send_error_signal&&a.get_error_stack){var na={err_code:1013,vip:'-',duration:0,xfb_ip:'-',path:window.location.href,aid:this.userActionID};a.send_error_signal('async_error',JSON.stringify(na));a.send_error_signal('async_xport_stack',[1013,window.location.href,null,a.get_error_stack()].join(':'));}return this;}this.uri=ma;return this;},getURI:function(){return this.uri.toString();},setInitialHandler:function(la){this.initialHandler=la;return this;},setHandler:function(la){if(ga(la))this.handler=la;return this;},getHandler:function(){return this.handler;},setUploadProgressHandler:function(la){if(ga(la))this.uploadProgressHandler=la;return this;},setErrorHandler:function(la){if(ga(la))this.errorHandler=la;return this;},setTransportErrorHandler:function(la){this.transportErrorHandler=la;return this;},getErrorHandler:function(){return this.errorHandler;},getTransportErrorHandler:function(){return this.transportErrorHandler;},setTimeoutHandler:function(la,ma){if(ga(ma)){this.timeout=la;this.timeoutHandler=ma;}return this;},resetTimeout:function(la){if(!(this.timeoutHandler===null))if(la===null){this.timeout=null;clearTimeout(this.timer);this.timer=null;}else{var ma=!this._allowCrossPageTransition;this.timeout=la;clearTimeout(this.timer);this.timer=this._handleTimeout.bind(this).defer(this.timeout,ma);}return this;},_handleTimeout:function(){this.abandon();this.timeoutHandler(this);},setNewSerial:function(){this.id=++ha;return this;},setInterceptHandler:function(la){this.interceptHandler=la;return this;},setFinallyHandler:function(la){this.finallyHandler=la;return this;},setAbortHandler:function(la){this.abortHandler=la;return this;},getServerDialogCancelHandler:function(){return this.serverDialogCancelHandler;},setServerDialogCancelHandler:function(la){this.serverDialogCancelHandler=la;return this;},setPreBootloadHandler:function(la){this.preBootloadHandler=la;return this;},setReadOnly:function(la){if(!(typeof(la)!='boolean'))this.readOnly=la;return this;},setFBMLForm:function(){this.writeRequiredParams=["fb_sig"];return this;},getReadOnly:function(){return this.readOnly;},setRelativeTo:function(la){this.relativeTo=la;return this;},getRelativeTo:function(){return this.relativeTo;},setStatusClass:function(la){this.statusClass=la;return this;},setStatusElement:function(la){this.statusElement=la;return this;},getStatusElement:function(){return y(this.statusElement);},_isRelevant:function(){if(this._allowCrossPageTransition)return true;if(!this.id)return true;return this.id>ia;},clearStatusIndicator:function(){var la=this.getStatusElement();if(la){k.removeClass(la,'async_saving');k.removeClass(la,this.statusClass);}},addStatusIndicator:function(){var la=this.getStatusElement();if(la){k.addClass(la,'async_saving');k.addClass(la,this.statusClass);}},specifiesWriteRequiredParams:function(){return this.writeRequiredParams.every(function(la){this.data[la]=this.data[la]||l[la]||(y(la)||{}).value;if(this.data[la]!==undefined)return true;return false;},this);},setOption:function(la,ma){if(typeof(this.option[la])!='undefined')this.option[la]=ma;return this;},getOption:function(la){typeof(this.option[la])=='undefined';return this.option[la];},abort:function(){if(this.transport){var la=this.getTransportErrorHandler();this.setOption('suppressErrorAlerts',true);this.setTransportErrorHandler(w);this._requestAborted=true;this.transport.abort();this.setTransportErrorHandler(la);}this.abortHandler();},abandon:function(){clearTimeout(this.timer);this.setOption('suppressErrorAlerts',true).setHandler(w).setErrorHandler(w).setTransportErrorHandler(w);if(this.transport){this._requestAborted=true;this.transport.abort();}},setNectarData:function(la){if(la){if(this.data.nctr===undefined)this.data.nctr={};v(this.data.nctr,la);}return this;},setNectarModuleDataSafe:function(la){if(this.setNectarModuleData)this.setNectarModuleData(la);return this;},setNectarImpressionIdSafe:function(){if(this.setNectarImpressionId)this.setNectarImpressionId();return this;},setAllowCrossPageTransition:function(la){this._allowCrossPageTransition=!!la;if(this.timer)this.resetTimeout(this.timeout);return this;},setAllowCrossOrigin:function(la){this._allowCrossOrigin=!!la;return this;},send:function(la){la=la||false;if(!this.uri)return false;!this.errorHandler&&!this.getOption('suppressErrorHandlerWarning');if(this.getOption('jsonp')&&this.method!='GET')this.setMethod('GET');if(this.getOption('useIframeTransport')&&this.method!='GET')this.setMethod('GET');this.timeoutHandler!==null&&(this.getOption('jsonp')||this.getOption('useIframeTransport'));if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!='POST')return false;}v(this.data,t.getAsyncParams(this.method));if(!aa(this.context)){v(this.data,this.context);this.data.ajax_log=1;}if(l.force_param)v(this.data,l.force_param);this._setUserActionID();if(this.getOption('bundle')&&this._isMultiplexable()){ka.schedule(this);return true;}this.setNewSerial();if(!this.getOption('asynchronous'))this.uri.addQueryData({__s:1});this.finallyHandler=a.async_callback(this.finallyHandler,'final');var ma,na;if(this.method=='GET'||this.rawData){ma=this.uri.addQueryData(this.data).toString();na=this.rawData||'';}else{ma=this.uri.toString();this._setDataHash();na=r.implodeQuery(this.data);}if(this.transport)return false;if(this.getOption('jsonp')||this.getOption('useIframeTransport')){d(['JSONPTransport'],function(ra){var sa=new ra(this.getOption('jsonp')?'jsonp':'iframe',this.uri);this.setJSONPTransport(sa);sa.send();}.bind(this));return true;}var oa=t.create();if(!oa)return false;oa.onreadystatechange=a.async_callback(this._onStateChange.bind(this),'xhr');if(this.uploadProgressHandler&&da(oa))oa.upload.onprogress=this.uploadProgressHandler.bind(this);if(!la)this.remainingRetries=this.getOption('retries');if(a.send_error_signal||a.ArbiterMonitor)this._sendTimeStamp=this._sendTimeStamp||Date.now();this.transport=oa;try{this.transport.open(this.method,ma,this.getOption('asynchronous'));}catch(pa){return false;}var qa=l.svn_rev;if(qa)this.transport.setRequestHeader('X-SVN-Rev',String(qa));if(!this.uri.isSameOrigin()&&!this.getOption('jsonp')&&!this.getOption('useIframeTransport')){if(!ea(this.transport))return false;if(this.uri.isFacebookURI())this.transport.withCredentials=true;}if(this.method=='POST'&&!this.rawData)this.transport.setRequestHeader('Content-Type','application/x-www-form-urlencoded');this.addStatusIndicator();this.transport.send(na);if(this.timeout!==null)this.resetTimeout(this.timeout);ja._inflightCount++;ja._inflightAdd(this);return true;}});function ka(){this._requests=[];}v(ka,{multiplex:null,schedule:function(la){if(!ka.multiplex){ka.multiplex=new ka();(function(){ka.multiplex.send();ka.multiplex=null;}).defer();}ka.multiplex.add(la);}});v(ka.prototype,{add:function(la){this._requests.push(la);},send:function(){var la=this._requests;if(!la.length)return;var ma;if(la.length===1){ma=la[0];}else{var na=la.map(function(oa){return [oa.uri.getPath(),r.implodeQuery(oa.data)];});ma=new ja('/ajax/proxy.php').setAllowCrossPageTransition(true).setData({data:na}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this));}ma.setOption('bundle',false).send();},_handler:function(la){var ma=la.getPayload().responses;if(ma.length!==this._requests.length)return;for(var na=0;na<this._requests.length;na++){var oa=this._requests[na],pa=oa.uri.getPath();oa.id=this.id;if(ma[na][0]!==pa){oa.invokeResponseHandler({transportError:'Wrong response order in bundled request to '+pa});continue;}oa.handleResponse(ma[na][1]);}},_transportErrorHandler:function(la){var ma={transportError:la.errorDescription},na=this._requests.map(function(oa){oa.id=this.id;oa.invokeResponseHandler(ma);return oa.uri.getPath();});}});e.exports=ja;});
__d("legacy:async",["AsyncRequest","AsyncResponse"],function(a,b,c,d){a.AsyncRequest=b('AsyncRequest');a.AsyncResponse=b('AsyncResponse');},3);
__d("legacy:array-utils",["createArrayFrom","hasArrayNature"],function(a,b,c,d){a.$A=b('createArrayFrom');a.hasArrayNature=b('hasArrayNature');},3);
__d("HTML",["function-extensions","Bootloader","UserAgent","copyProperties","createArrayFrom","emptyFunction","evalGlobal"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Bootloader'),h=b('UserAgent'),i=b('copyProperties'),j=b('createArrayFrom'),k=b('emptyFunction'),l=b('evalGlobal');function m(n){if(n&&n.__html)n=n.__html;if(!(this instanceof m)){if(n instanceof m)return n;return new m(n);}this._content=n;this._defer=false;this._extra_action='';this._nodes=null;this._inline_js=k;this._rootNode=null;return this;}m.isHTML=function(n){return n&&(n instanceof m||n.__html!==undefined);};m.replaceJSONWrapper=function(n){return n&&n.__html!==undefined?new m(n.__html):n;};i(m.prototype,{toString:function(){var n=this._content||'';if(this._extra_action)n+='<script type="text/javascript">'+this._extra_action+'</scr'+'ipt>';return n;},setAction:function(n){this._extra_action=n;return this;},getAction:function(){this._fillCache();var n=function(){this._inline_js();l(this._extra_action);}.bind(this);if(this.getDeferred()){return n.defer.bind(n);}else return n;},setDeferred:function(n){this._defer=!!n;return this;},getDeferred:function(){return this._defer;},getContent:function(){return this._content;},getNodes:function(){this._fillCache();return this._nodes;},getRootNode:function(){var n=this.getNodes();if(n.length===1){this._rootNode=n[0];}else{var o=document.createDocumentFragment();for(var p=0;p<n.length;p++)o.appendChild(n[p]);this._rootNode=o;}return this._rootNode;},_fillCache:function(){if(null!==this._nodes)return;var n=this._content;if(!n){this._nodes=[];return;}n=n.replace(/(<(\w+)[^>]*?)\/>/g,function(y,z,aa){return aa.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?y:z+'></'+aa+'>';});var o=n.trim().toLowerCase(),p=document.createElement('div'),q=false,r=(!o.indexOf('<opt')&&[1,'<select multiple="multiple" class="__WRAPPER">','</select>'])||(!o.indexOf('<leg')&&[1,'<fieldset class="__WRAPPER">','</fieldset>'])||(o.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,'<table class="__WRAPPER">','</table>'])||(!o.indexOf('<tr')&&[2,'<table><tbody class="__WRAPPER">','</tbody></table>'])||((!o.indexOf('<td')||!o.indexOf('<th'))&&[3,'<table><tbody><tr class="__WRAPPER">','</tr></tbody></table>'])||(!o.indexOf('<col')&&[2,'<table><tbody></tbody><colgroup class="__WRAPPER">','</colgroup></table>'])||null;if(null===r){p.className='__WRAPPER';if(h.ie()){r=[0,'<span style="display:none">&nbsp;</span>',''];q=true;}else r=[0,'',''];}p.innerHTML=r[1]+n+r[2];while(r[0]--)p=p.lastChild;if(q)p.removeChild(p.firstChild);p.className!='__WRAPPER';if(h.ie()){var s;if(!o.indexOf('<table')&&-1==o.indexOf('<tbody')){s=p.firstChild&&p.firstChild.childNodes;}else if(r[1]=='<table>'&&-1==o.indexOf('<tbody')){s=p.childNodes;}else s=[];for(var t=s.length-1;t>=0;--t)if(s[t].nodeName&&s[t].nodeName.toLowerCase()=='tbody'&&s[t].childNodes.length==0)s[t].parentNode.removeChild(s[t]);}var u=p.getElementsByTagName('script'),v=[];for(var w=0;w<u.length;w++)if(u[w].src){v.push(g.requestResource.bind(g,'js',u[w].src));}else v.push(l.bind(null,u[w].innerHTML));for(var w=u.length-1;w>=0;w--)u[w].parentNode.removeChild(u[w]);var x=function(){for(var y=0;y<v.length;y++)v[y]();};this._nodes=j(p.childNodes);this._inline_js=x;}});e.exports=m;});
__d("isScalar",[],function(a,b,c,d,e,f){function g(h){return (/string|number|boolean/).test(typeof h);}e.exports=g;});
__d("DOM",["function-extensions","DOMQuery","Event","HTML","UserAgent","$","copyProperties","createArrayFrom","isScalar","tx"],function(a,b,c,d,e,f){b('function-extensions');var g=b('DOMQuery'),h=b('Event'),i=b('HTML'),j=b('UserAgent'),k=b('$'),l=b('copyProperties'),m=b('createArrayFrom'),n=b('isScalar'),o=b('tx'),p='js_',q=0,r={};l(r,g);l(r,{create:function(u,v,w){var x=document.createElement(u);if(v)r.setAttributes(x,v);if(w!=null)r.setContent(x,w);return x;},setAttributes:function(u,v){if(v.type)u.type=v.type;for(var w in v){var x=v[w],y=(/^on/i).test(w);if(w=='type'){continue;}else if(w=='style'){if(typeof x=='string'){u.style.cssText=x;}else l(u.style,x);}else if(y){h.listen(u,w.substr(2),x);}else if(w in u){u[w]=x;}else if(u.setAttribute)u.setAttribute(w,x);}},prependContent:function(u,v){return s(v,u,function(w){u.firstChild?u.insertBefore(w,u.firstChild):u.appendChild(w);});},insertAfter:function(u,v){var w=u.parentNode;return s(v,w,function(x){u.nextSibling?w.insertBefore(x,u.nextSibling):w.appendChild(x);});},insertBefore:function(u,v){var w=u.parentNode;return s(v,w,function(x){w.insertBefore(x,u);});},setContent:function(u,v){r.empty(u);return r.appendContent(u,v);},appendContent:function(u,v){return s(v,u,function(w){u.appendChild(w);});},replace:function(u,v){var w=u.parentNode;return s(v,w,function(x){w.replaceChild(x,u);});},remove:function(u){u=k(u);if(u.parentNode)u.parentNode.removeChild(u);},empty:function(u){u=k(u);while(u.firstChild)r.remove(u.firstChild);},getID:function(u){var v=u.id;if(!v){v=p+q++;u.id=v;}return v;}});function s(u,v,w){u=i.replaceJSONWrapper(u);if(u instanceof i&&''===v.innerHTML&&-1===u.toString().indexOf('<scr'+'ipt')){var x=j.ie();if(!x||(x>7&&!g.isNodeOfType(v,['table','tbody','thead','tfoot','tr','select','fieldset']))){var y=x?'<em style="display:none;">&nbsp;</em>':'';v.innerHTML=y+u;x&&v.removeChild(v.firstChild);return m(v.childNodes);}}else if(g.isTextNode(v)){v.data=u;return [u];}var z=document.createDocumentFragment(),aa,ba=[],ca=[];if(!Array.isArray(u))u=[u];for(var da=0;da<u.length;da++){aa=i.replaceJSONWrapper(u[da]);if(aa instanceof i){ca.push(aa.getAction());var ea=aa.getNodes();for(var fa=0;fa<ea.length;fa++){ba.push(ea[fa]);z.appendChild(ea[fa]);}}else if(n(aa)){var ga=document.createTextNode(aa);ba.push(ga);z.appendChild(ga);}else if(g.isNode(aa)){ba.push(aa);z.appendChild(aa);}}w(z);ca.forEach(function(ha){ha();});return ba;}function t(u){function v(w){return r.create('div',{},w).innerHTML;}return function(w,x){var y={};if(x)for(var z in x)y[z]=v(x[z]);return i(u(w,y));};}r.tx=t(o);r.tx._=r._tx=t(o._);e.exports=r;});
__d("LiveTimer",["CSS","DOM","UserAgent","emptyFunction","tx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('UserAgent'),j=b('emptyFunction'),k=b('tx'),l={restart:function(m){this.serverTime=m;this.localStartTime=Date.now()/1000;this.updateTimeStamps();},getApproximateServerTime:function(){return (this.serverTime-this.localStartTime)*1000+Date.now();},getServerTimeOffset:function(){return (this.serverTime-this.localStartTime)*1000;},updateTimeStamps:function(){l.timestamps=h.scry(document.body,'abbr.livetimestamp');l.startLoop(20000);},addTimeStamps:function(m){if(!m)return;l.timestamps=l.timestamps||[];if(h.isNodeOfType(m,'abbr')&&g.hasClass(m,'livetimestamp')){l.timestamps.push(m);}else{var n=h.scry(m,'abbr.livetimestamp');for(var o=0;o<n.length;++o)l.timestamps.push(n[o]);}l.startLoop(0);},startLoop:function(m){this.stop();this.timeout=setTimeout(function(){l.loop();},m);},stop:function(){clearTimeout(this.timeout);},updateNode:function(m,n){l.updateNode=i.ie()<7?j:h.setContent;l.updateNode(m,n);},loop:function(m){if(m)l.updateTimeStamps();var n=Math.floor(l.getApproximateServerTime()/1000),o=-1;l.timestamps&&l.timestamps.forEach(function(q){var r=q.getAttribute('data-utime'),s=l.renderRelativeTime(n,r);if(s.text)l.updateNode(q,s.text);if(s.next!=-1&&(s.next<o||o==-1))o=s.next;});if(o!=-1){var p=Math.max(20000,o*1000);l.timeout=setTimeout(function(){l.loop();},p);}},renderRelativeTime:function(m,n){var o={text:"",next:-1};if(m-n>(12*3600))return o;var p=m-n,q=Math.floor(p/60),r=Math.floor(q/60);if(q<1){o.text="a few seconds ago";o.next=60-p%60;return o;}if(r<1){if(q==1){o.text="about a minute ago";}else o.text=k._("{number} minutes ago",{number:q});o.next=60-p%60;return o;}if(r!=11)o.next=3600-p%3600;if(r==1){o.text="about an hour ago";return o;}o.text=k._("{number} hours ago",{number:r});return o;},renderRelativeTimeToServer:function(m){return l.renderRelativeTime(Math.floor(l.getApproximateServerTime()/1000),m);}};e.exports=l;});
__d("legacy:live-timer",["LiveTimer"],function(a,b,c,d){a.LiveTimer=b('LiveTimer');},3);
__d("JSLogger",[],function(a,b,c,d,e,f){var g={MAX_HISTORY:500,counts:{},categories:{},seq:0,pageId:(Math.random()*2147483648|0).toString(36),forwarding:false};function h(l){if(l instanceof Error&&a.ErrorUtils)l=a.ErrorUtils.normalizeError(l);try{return JSON.stringify(l);}catch(m){return '{}';}}function i(l,event,m){if(!g.counts[l])g.counts[l]={};if(!g.counts[l][event])g.counts[l][event]=0;m=m==null?1:Number(m);g.counts[l][event]+=isFinite(m)?m:0;}g.logAction=function(event,l,m){if(this.type=='bump'){i(this.cat,event,l);}else if(this.type=='rate'){(l&&i(this.cat,event+'_n',m));i(this.cat,event+'_d',m);}else{var n={cat:this.cat,type:this.type,event:event,data:l!=null?h(l):null,date:Date.now(),seq:g.seq++};g.head=g.head?(g.head.next=n):(g.tail=n);while(g.head.seq-g.tail.seq>g.MAX_HISTORY)g.tail=g.tail.next;return n;}};function j(l){if(!g.categories[l]){g.categories[l]={};var m=function(n){var o={cat:l,type:n};g.categories[l][n]=function(){g.forwarding=false;var p=null;if(document.domain!='facebook.com')return;p=g.logAction;if(/^\/+(dialogs|plugins?)\//.test(location.pathname)){g.forwarding=false;}else try{p=a.top.require('JSLogger')._.logAction;g.forwarding=p!==g.logAction;}catch(q){}(p&&p.apply(o,arguments));};};m('debug');m('log');m('warn');m('error');m('bump');m('rate');}return g.categories[l];}function k(l,m){var n=[];for(var o=m||g.tail;o;o=o.next)if(!l||l(o)){var p={type:o.type,cat:o.cat,date:o.date,event:o.event,seq:o.seq};if(o.data)p.data=JSON.parse(o.data);n.push(p);}return n;}e.exports={_:g,DUMP_EVENT:'jslogger/dump',create:j,getEntries:k};});
__d("Nectar",["Env","startsWith"],function(a,b,c,d,e,f){var g=b('Env'),h=b('startsWith');function i(l){if(!l.nctr)l.nctr={};}function j(l){if(g.module||!l)return g.module;var m={fbpage_fan_confirm:true},n;while(l&&l.getAttributeNode){var o=(l.getAttributeNode('id')||{}).value;if(h(o,'pagelet_'))return o;if(n&&m[o])n=o;l=l.parentNode;}return n;}var k={addModuleData:function(l,m){var n=j(m);if(n){i(l);l.nctr._mod=n;}},addImpressionID:function(l){if(g.impid){i(l);l.nctr._impid=g.impid;}}};e.exports=k;});
__d("Style",["DOMQuery","UserAgent","$","copyProperties"],function(a,b,c,d,e,f){var g=b('DOMQuery'),h=b('UserAgent'),i=b('$'),j=b('copyProperties');function k(r){return r.replace(/([A-Z])/g,'-$1').toLowerCase();}function l(r){return r.replace(/-(.)/g,function(s,t){return t.toUpperCase();});}function m(r,s){var t=q.get(r,s);return (t==='auto'||t==='scroll');}function n(r){var s={},t=r.split(/\s*;\s*/);for(var u=0,v=t.length-1;u<v;u++){var w=t[u].split(/\s*:\s*/);s[w[0]]=w[1];}return s;}function o(r){var s='';for(var t in r)if(r[t]!=='')s+=t+':'+r[t]+';';return s;}function p(r){return r!==''?'alpha(opacity='+r*100+')':'';}var q={set:function(r,s,t){switch(s){case 'opacity':if(s==='opacity')if(h.ie()<9){r.style.filter=p(t);}else r.style.opacity=t;break;case 'float':r.style.cssFloat=r.style.styleFloat=t;break;default:try{r.style[l(s)]=t;}catch(u){throw new Error('Style.set: "'+s+'" argument is invalid: "'+t+'"');}}},apply:function(r,s){var t;if('opacity' in s&&h.ie()<9){var u=s.opacity;s.filter=p(u);delete s.opacity;}var v=n(r.style.cssText);for(t in s){var w=s[t];delete s[t];t=k(t);for(var x in v)if(x===t||x.indexOf(t+'-')===0)delete v[x];s[t]=w;}s=j(v,s);r.style.cssText=o(s);},get:function(r,s){r=i(r);var t;if(window.getComputedStyle){t=window.getComputedStyle(r,null);if(t)return t.getPropertyValue(k(s));}if(document.defaultView&&document.defaultView.getComputedStyle){t=document.defaultView.getComputedStyle(r,null);if(t)return t.getPropertyValue(k(s));if(s=="display")return "none";}s=l(s);if(r.currentStyle){if(s==='float')return r.currentStyle.cssFloat||r.currentStyle.styleFloat;return r.currentStyle[s];}return r.style&&r.style[s];},getFloat:function(r,s){return parseFloat(q.get(r,s),10);},getOpacity:function(r){r=i(r);var s=q.get(r,'filter'),t=null;if(s&&(t=/(\d+(?:\.\d+)?)/.exec(s))){return parseFloat(t.pop())/100;}else if(s=q.get(r,'opacity')){return parseFloat(s);}else return 1;},isFixed:function(r){while(r&&r!==document.documentElement){if(q.get(r,'position')==='fixed')return true;r=r.parentNode;}return false;},getScrollParent:function(r){if(!r)return null;while(r!==document.body){if(m(r,'overflow')||m(r,'overflowY')||m(r,'overflowX'))return r;r=r.parentNode;}return window;}};e.exports=q;});
__d("DOMDimensions",["DOMQuery","Style"],function(a,b,c,d,e,f){var g=b('DOMQuery'),h=b('Style'),i={getElementDimensions:function(j){return {width:j.offsetWidth||0,height:j.offsetHeight||0};},getViewportDimensions:function(){var j=(window&&window.innerWidth)||(document&&document.documentElement&&document.documentElement.clientWidth)||(document&&document.body&&document.body.clientWidth)||0,k=(window&&window.innerHeight)||(document&&document.documentElement&&document.documentElement.clientHeight)||(document&&document.body&&document.body.clientHeight)||0;return {width:j,height:k};},getViewportWithoutScrollbarDimensions:function(){var j=(document&&document.documentElement&&document.documentElement.clientWidth)||(document&&document.body&&document.body.clientWidth)||0,k=(document&&document.documentElement&&document.documentElement.clientHeight)||(document&&document.body&&document.body.clientHeight)||0;return {width:j,height:k};},getDocumentDimensions:function(j){j=j||document;var k=g.getDocumentScrollElement(j),l=k.scrollWidth||0,m=k.scrollHeight||0;return {width:l,height:m};},measureElementBox:function(j,k,l,m,n){var o;switch(k){case 'left':case 'right':case 'top':case 'bottom':o=[k];break;case 'width':o=['left','right'];break;case 'height':o=['top','bottom'];break;default:throw Error('Invalid plane: '+k);}var p=function(q,r){var s=0;for(var t=0;t<o.length;t++)s+=parseInt(h.get(j,q+'-'+o[t]+r),10)||0;return s;};return (l?p('padding',''):0)+(m?p('border','-width'):0)+(n?p('margin',''):0);}};e.exports=i;});
__d("wrapFunction",[],function(a,b,c,d,e,f){var g={};function h(i,j,k){j=j||'default';return function(){var l=j in g?g[j](i,k):i;return l.apply(this,arguments);};}h.setWrapper=function(i,j){j=j||'default';g[j]=i;};e.exports=h;});
__d("DOMEventListener",["wrapFunction"],function(a,b,c,d,e,f){var g=b('wrapFunction'),h,i;if(window.addEventListener){h=function(k,l,m){m.wrapper=g(m,'entry',k+':'+l);k.addEventListener(l,m.wrapper,false);};i=function(k,l,m){k.removeEventListener(l,m.wrapper,false);};}else if(window.attachEvent){h=function(k,l,m){m.wrapper=g(m,'entry',k+':'+l);k.attachEvent('on'+l,m.wrapper);};i=function(k,l,m){k.detachEvent('on'+l,m.wrapper);};}var j={add:function(k,l,m){h(k,l,m);return {remove:function(){i(k,l,m);k=null;}};},remove:i};e.exports=j;});
__d("DOMPosition",["DOMQuery"],function(a,b,c,d,e,f){var g=b('DOMQuery'),h={getScrollPosition:function(){var i=g.getDocumentScrollElement();return {x:i.scrollLeft,y:i.scrollTop};},getElementPosition:function(i){if(!i)return;var j=document.documentElement;if(!('getBoundingClientRect' in i)||!g.contains(j,i))return {x:0,y:0};var k=i.getBoundingClientRect(),l=Math.round(k.left)-j.clientLeft,m=Math.round(k.top)-j.clientTop;return {x:l,y:m};}};e.exports=h;});
__d("isInIframe",[],function(a,b,c,d,e,f){function g(){return window!=window.top;}e.exports=g;});
__d("DimensionTracking",["Event","AsyncSignal","Cookie","DOMDimensions","isInIframe"],function(a,b,c,d,e,f){var g=b('Event'),h=b('AsyncSignal'),i=b('Cookie'),j=b('DOMDimensions'),k=b('isInIframe');function l(){var m=j.getViewportDimensions();i.set('wd',m.width+'x'+m.height);if(Math.random()<.01)new h('/ajax/dimension_context.php',{x:m.width,y:m.height}).send();}if(!k()){setTimeout(l,100);g.listen(window,'resize',l);g.listen(window,'focus',l);}});
__d("cx",[],function(a,b,c,d,e,f){function g(h){throw new Error('cx'+'(...): Unexpected class transformation.');}e.exports=g;});
__d("Focus",["CSS","DOM","Event","Run","cx","ge"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('Event'),j=b('Run'),k=b('cx'),l=b('ge'),m={},n,o={set:function(s){try{s.focus();}catch(t){}},setWithoutOutline:function(s){g.addClass(s,"_1qp5");var t=i.listen(s,'blur',function(){g.removeClass(s,"_1qp5");t.remove();});o.set(s);},relocate:function(s,t){p();var u=h.getID(s);m[u]=t;g.addClass(s,"_1qp5");j.onLeave(r.curry(u));},reset:function(s){var t=h.getID(s);g.removeClass(s,"_1qp5");if(m[t]){g.removeClass(m[t],"_3oxt");delete m[t];}}};function p(){if(n)return;i.listen(document.documentElement,'focusout',q);i.listen(document.documentElement,'focusin',q);n=true;}function q(event){var s=event.getTarget();if(!g.hasClass(s,"_1qp5"))return;if(m[s.id])g.conditionClass(m[s.id],"_3oxt",event.type==='focusin');}function r(s){if(m[s]&&!l(s))delete m[s];}e.exports=o;});
__d("HighContrastMode",["AsyncSignal","Cookie","CSS","DOM","Env","Style"],function(a,b,c,d,e,f){var g=b('AsyncSignal'),h=b('Cookie'),i=b('CSS'),j=b('DOM'),k=b('Env'),l=b('Style'),m=null,n={init:function(o){if(m!==null&&o.currentState!=m)return;var p=j.create('div');j.appendContent(document.body,p);p.style.cssText='border: 1px solid;'+'border-color: red green;'+'position: fixed;'+'height: 5px;'+'top: -999px;'+'background-image: url('+o.spacerImage+');';var q=l.get(p,'background-image'),r=l.get(p,'border-top-color'),s=l.get(p,'border-right-color'),t=r==s||(q&&(q=='none'||q=='url(invalid-url:)'));if(t!=o.currentState){i.conditionClass(document.documentElement,'highContrast',t);if(k.user){h.set('highContrast',t?1:0);if(t)new g('/ajax/highcontrast').send();}}j.remove(p);m=t;}};e.exports=n;});
__d("PopupWindow",["DOMDimensions","DOMQuery","copyProperties"],function(a,b,c,d,e,f){var g=b('DOMDimensions'),h=b('DOMQuery'),i=b('copyProperties'),j={_opts:{allowShrink:true,strategy:'vector',timeout:100,widthElement:null},init:function(k){i(j._opts,k);setInterval(j._resizeCheck,j._opts.timeout);},_resizeCheck:function(){var k=g.getViewportDimensions(),l=j._getDocumentSize(),m=l.height-k.height,n=l.width-k.width;if(n<0&&!j._opts.widthElement)n=0;n=n>1?n:0;if(!j._opts.allowShrink&&m<0)m=0;if(m||n)try{window.console&&window.console.firebug;window.resizeBy(n,m);if(n)window.moveBy(n/-2,0);}catch(o){}},_getDocumentSize:function(){var k=g.getDocumentDimensions();if(j._opts.strategy==='offsetHeight')k.height=document.body.offsetHeight;if(j._opts.widthElement){var l=h.scry(document.body,j._opts.widthElement)[0];if(l)k.width=g.getElementDimensions(l).width;}var m=a.Dialog;if(m&&m.max_bottom&&m.max_bottom>k.height)k.height=m.max_bottom;return k;},open:function(k,l,m){var n=typeof window.screenX!='undefined'?window.screenX:window.screenLeft,o=typeof window.screenY!='undefined'?window.screenY:window.screenTop,p=typeof window.outerWidth!='undefined'?window.outerWidth:document.body.clientWidth,q=typeof window.outerHeight!='undefined'?window.outerHeight:(document.body.clientHeight-22),r=parseInt(n+((p-m)/2),10),s=parseInt(o+((q-l)/2.5),10),t=('width='+m+',height='+l+',left='+r+',top='+s);return window.open(k,'_blank',t);}};e.exports=j;});
__d("ScriptPathState",["Arbiter"],function(a,b,c,d,e,f){var g=b('Arbiter'),h,i,j,k,l=100,m={setIsUIPageletRequest:function(n){j=n;},setUserURISampleRate:function(n){k=n;},reset:function(){h=null;i=false;j=false;},_shouldUpdateScriptPath:function(){return (i&&!j);},_shouldSendURI:function(){return (Math.random()<k);},getParams:function(){var n={};if(m._shouldUpdateScriptPath()){if(m._shouldSendURI()&&h!==null)n.user_uri=h.substring(0,l);}else n.no_script_path=1;return n;}};g.subscribe("pre_page_transition",function(n,o){i=true;h=o.to.getUnqualifiedURI().toString();});e.exports=a.ScriptPathState=m;});
__d("getContextualParent",["ge"],function(a,b,c,d,e,f){var g=b('ge');function h(i){var j;if(i.getAttribute&&(j=i.getAttribute('data-ownerid'))){i=g(j);}else i=i.parentNode;return i;}e.exports=h;});
__d("collectDataAttributes",["getContextualParent"],function(a,b,c,d,e,f){var g=b('getContextualParent');function h(i,j){var k={},l={},m=j.length,n;for(n=0;n<m;++n){k[j[n]]={};l[j[n]]='data-'+j[n];}var o={tn:'',"tn-debug":','};while(i){if(i.getAttribute)for(n=0;n<m;++n){var p=i.getAttribute(l[j[n]]);if(p){var q=JSON.parse(p);for(var r in q)if(o[r]!==undefined){if(k[j[n]][r]===undefined)k[j[n]][r]=[];k[j[n]][r].push(q[r]);}else if(k[j[n]][r]===undefined)k[j[n]][r]=q[r];}}i=g(i);}for(var s in k)for(var t in o)if(k[s][t]!==undefined)k[s][t]=k[s][t].join(o[t]);return k;}e.exports=h;});
__d("Keys",[],function(a,b,c,d,e,f){e.exports={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188};});
__d("areObjectsEqual",[],function(a,b,c,d,e,f){function g(h,i){return JSON.stringify(h)==JSON.stringify(i);}e.exports=g;});
__d("flattenArray",[],function(a,b,c,d,e,f){function g(h){var i=[];while(h.length){var j=h.pop();if(Array.isArray(j)){Array.prototype.push.apply(h,j);}else i.push(j);}return i.reverse();}e.exports=g;});
__d("htmlSpecialChars",[],function(a,b,c,d,e,f){var g=/&/g,h=/</g,i=/>/g,j=/"/g,k=/'/g;function l(m){if(typeof m=='undefined'||m===null||!m.toString)return '';if(m===false){return '0';}else if(m===true)return '1';return m.toString().replace(g,'&amp;').replace(j,'&quot;').replace(k,'&#039;').replace(h,'&lt;').replace(i,'&gt;');}e.exports=l;});
__d("htmlize",["htmlSpecialChars"],function(a,b,c,d,e,f){var g=b('htmlSpecialChars');function h(i){return g(i).replace(/\r\n|[\r\n]/g,'<br/>');}e.exports=h;});
__d("debounce",[],function(a,b,c,d,e,f){function g(h,i,j,k){if(i==null)i=100;var l;function m(n,o,p,q,r){m.reset();l=setTimeout(function(){h.call(j,n,o,p,q,r);},i,!k);}m.reset=function(){clearTimeout(l);};return m;}e.exports=g;});
__d("debounceAcrossTransitions",["debounce"],function(a,b,c,d,e,f){var g=b('debounce');function h(i,j,k){return g(i,j,k,true);}e.exports=h;});
__d("PluginMessage",["DOMEventListener"],function(a,b,c,d,e,f){var g=b('DOMEventListener'),h={listen:function(){g.add(window,'message',function(event){if((/\.facebook\.com$/).test(event.origin)&&/^FB_POPUP:/.test(event.data)){var i=JSON.parse(event.data.substring(9));if('reload' in i)document.location.replace(i.reload);}});}};e.exports=h;});
__d("legacy:popup-resizer",["PopupWindow"],function(a,b,c,d){a.PopupResizer=b('PopupWindow');},3);
__d("legacy:ui-scrolling-pager-js",["ScrollingPager"],function(a,b,c,d){a.ScrollingPager=b('ScrollingPager');},3);
function tz_calculate(a){var b=new Date(),c=b.getTimezoneOffset()/30,d=b.getTime()/1000,e=Math.round((a-d)/1800),f=Math.round(c+e)%48;if(f==0){return 0;}else if(f>24){f-=Math.ceil(f/48)*48;}else if(f<-28)f+=Math.ceil(f/-48)*48;return f*30;}function tz_autoset(a,b,c){if(!a||undefined==b)return;if(window.tz_autoset.calculated)return;window.tz_autoset.calculated=true;var d=-tz_calculate(a);if(c||d!=b){var e='/ajax/timezone/update.php';new AsyncRequest().setURI(e).setData({gmt_off:d,is_forced:c}).setErrorHandler(emptyFunction).setTransportErrorHandler(emptyFunction).setOption('suppressErrorAlerts',true).send();}}
__d("Scrollable",["Event","Parent","UserAgent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Parent'),i=b('UserAgent'),j=function(event){var m=h.byClass(event.getTarget(),'scrollable');if(!m)return;if((typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS)||(event.wheelDeltaX&&!event.wheelDeltaY)||(event.deltaX&&!event.deltaY))return;var n=event.wheelDelta||-event.deltaY||-event.detail,o=m.scrollHeight,p=m.clientHeight;if(o>p){var q=m.scrollTop;if((n>0&&q===0)||(n<0&&q>=o-p)){event.prevent();}else if(i.ie()<9)if(m.currentStyle){var r=m.currentStyle.fontSize;if(r.indexOf('px')<0){var s=document.createElement('div');s.style.fontSize=r;s.style.height='1em';r=s.style.pixelHeight;}else r=parseInt(r,10);m.scrollTop=q-Math.round(n/120*r);event.prevent();}}},k=document.documentElement;if(i.firefox()){var l=('WheelEvent' in window)?'wheel':'DOMMouseScroll';k.addEventListener(l,j,false);}else g.listen(k,'mousewheel',j);});
__d("LayerRemoveOnHide",["function-extensions","DOM","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('DOM'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('hide',g.remove.curry(this._layer.getRoot()));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}}});e.exports=i;});